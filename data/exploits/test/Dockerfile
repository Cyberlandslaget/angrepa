FROM python:3.10-slim

RUN pip install --no-cache-dir --upgrade pip

RUN pip install --no-cache-dir pwntools cryptography beautifulsoup4 requests

WORKDIR /exploit

COPY requirements.txt /exploit/requirements.txt
RUN pip install --no-cache-dir -r /exploit/requirements.txt
COPY . /exploit

RUN chmod +x /exploit/run.sh

RUN echo '#!/bin/bash'> /exploit/entrypoint.sh
RUN echo 'while true;do sleep 1;done' >> /exploit/entrypoint.sh
RUN chmod +x /exploit/entrypoint.sh

CMD [ "/exploit/entrypoint.sh" ]